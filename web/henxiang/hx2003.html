<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
    <link href="hengxiang.css" rel="stylesheet">
</head>
<body style="height: 100%; margin: 0">
    <div id="container" style="width: 800px;height: 100%"></div>
    <div id="pie" style="width: 600px;height: 100%"></div>

    <script src="../echarts.js"></script>
    <script type="text/javascript">
        var dom = document.getElementById("container");
        var myChart = echarts.init(dom);
        var dataset = [];
        var name_dataset = ['基里巴斯', '所罗门群岛', '缅甸', '格陵兰', '尼泊尔', '老挝', '文莱', '匈牙利', '中国', '萨摩亚'];
        var value_dataset = [387.47, 347.12, 283.74, 253.68, 215.25, 211.18, 209.39, 202.22, 200.86, 195.31]

        for(var i = 0; i < name_dataset.length; i ++)
        {
            var temp_data =  {name: name_dataset[i], value: value_dataset[i]};
            dataset.push(temp_data);
        }
        var option;
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'value'
            },
            yAxis: {
                type: 'category',
                data: name_dataset   
            },
            series: [
                {
                    name: '数量',
                    type: 'bar',
                    data: value_dataset,
                    itemStyle: {
                        color: function(params) { 
                            var colorList = ['#d9ed92', '#b5e48c', '#99d98c', '#76c893', '#52b69a', '#34a0a4', '#168aad', '#1a759f', '#1e6091',' #184e77']; 
                            return colorList[params.dataIndex];
                        }
                    },
                    label: {
                        show: true
                    }
                }
            ]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }

        var myChart2 = echarts.init(document.getElementById('pie'));

        var option2 = {
            series: [
                {
                    type: 'pie',
                    data: dataset,
                    roseType: 'radius',
                    itemStyle: {
                        color: function(params) { 
                            var colorList = ['#d9ed92', '#b5e48c', '#99d98c', '#76c893', '#52b69a', '#34a0a4', '#168aad', '#1a759f', '#1e6091',' #184e77']; 
                            return colorList[params.dataIndex];
                        }
                    },
                    label: {
                        formatter: function(params){
                            return params.name + ':' + params.percent
                        },
                    }
                }
            ]
        }

        myChart2.setOption(option2);
    </script>
</body>
</html>
